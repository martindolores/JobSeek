@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <div style=" text-align: center; padding-top: 25%;">
        <h1 class="display-4">Welcome</h1>
        <h1 class="h6">Start Searching for Jobs!</h1>
        <hr style="border-top: 1px solid #f8f8f8; border-bottom: 1px solid rgba(0,0,0,2);" />
        <form style="text-align:center" method="post" asp-action="Search">
            <div class="form-row">
                <div class="form-group col-sm " style="text-align:left">
                    <label for="jobTitle" style="font-weight:300">What:</label>
                    <input type="text" class="form-control" id="jobTitle" placeholder="Job Title" name="jobTitle">
                </div>
                <div class="form-group col-sm" style="text-align:left">
                    <label for="jobLoc" style="font-weight:300">Where:</label>
                    <input type="text" class="form-control" id="jobLoc" placeholder="Post Code" name="jobLoc">
                </div>
                <div class="form-group col-sm" style="text-align:left">
                    <input class="btn btn-success form-control" value="Search" type="submit" style="margin-top:9%;" />
                </div>
            </div>
        </form>
        <div>Search <strong>@ViewBag.JobCount</strong> jobs now!</div>
    </div>
</div>

@section Scripts{
    @{await Html.RenderPartialAsync(partialViewName: "_ValidationScriptsPartial");}

<script language="javascript" type="text/javascript">
    $(function(){
        var submitted = '@TempData["submitted"]'
        if (submitted != "") {
                // Extend existing 'alert' dialog
                if (!alertify.myAlert) {
                    //define a new errorAlert base on alert
                    alertify.dialog('myAlert', function factory() {
                        return {
                            build: function () {
                                var alertHeader = '<span class="fa-solid fa-circle-check" '
                                    + 'style="vertical-align:middle;color:#00ff48;">'
                                    + '</span> Success!';
                                this.setHeader(alertHeader);
                            }
                        };
                    }, true, 'alert');
                }
                //launch it.
                // since this was transient, we can launch another instance at the same time.
                alertify
                    .myAlert(submitted + "<br/><br/><br/>");
            }
        })
</script>
}